<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Animated Gallery with Scrollable Photos</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap');

  /* Reset and base */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #1c1c2e, #0d0d18);
    color: #eee;
    overflow-x: hidden;
    position: relative;
  }

  h1 {
    text-align: center;
    padding: 2rem 0;
    font-weight: 600;
    letter-spacing: 1.2px;
    color: #ff4c60;
    text-shadow: 0 0 8px #ff4c60aa;
  }

  /* Gallery grid */
  .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(150px,1fr));
    gap: 15px;
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto 3rem auto;
    z-index: 10;
  }
  .gallery-item {
    position: relative;
    cursor: pointer;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(255, 255, 255, 0.1);
    transition: transform 0.35s, box-shadow 0.35s;
  }
  .gallery-item:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 30px rgba(255, 76, 96, 0.5);
  }
  .gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: filter 0.3s ease;
  }
  .gallery-item:hover img {
    filter: brightness(1.15) saturate(1.3);
  }

  /* Modal Overlay */
  .modal {
    position: fixed;
    inset: 0;
    background: rgba(12, 12, 15, 0.95);
    display: flex;
    align-items: center;
    justify-content: center;
    visibility: hidden;
    opacity: 0;
    transition: opacity 0.5s;
    z-index: 9999;
    overflow: hidden;
  }
  .modal.active {
    visibility: visible;
    opacity: 1;
  }

  /* Modal content wrapper */
  .modal-content {
    position: relative;
    width: 90vw;
    max-width: 1000px;
    height: 70vh;
    background: #222;
    border-radius: 16px;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.8);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    animation: modalFadeIn 0.6s forwards;
  }

  @keyframes modalFadeIn {
    0% {
      opacity: 0;
      transform: translateY(50px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Close button */
  .close-btn {
    position: absolute;
    top: 15px;
    right: 20px;
    color: #fff;
    font-size: 28px;
    cursor: pointer;
    background: transparent;
    border: none;
    font-weight: 700;
    transition: color 0.3s;
  }
  .close-btn:hover {
    color: #ff4c60;
  }

  /* Scroll control buttons */
  .scroll-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255, 76, 96, 0.8);
    border: none;
    border-radius: 50%;
    width: 48px;
    height: 48px;
    cursor: pointer;
    color: white;
    font-size: 26px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s, transform 0.3s;
  }
  .scroll-btn:hover {
    background: #ff4c60;
    transform: scale(1.1);
  }
  .scroll-btn.left {
    left: 12px;
  }
  .scroll-btn.right {
    right: 12px;
  }

  /* Horizontal scroll container */
  .scroll-container {
    flex: 1;
    display: flex;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    padding: 32px 20px;
  }
  .scroll-container::-webkit-scrollbar {
    height: 12px;
  }
  .scroll-container::-webkit-scrollbar-track {
    background: #111;
    border-radius: 6px;
  }
  .scroll-container::-webkit-scrollbar-thumb {
    background: #555;
    border-radius: 6px;
  }
  .scroll-container::-webkit-scrollbar-thumb:hover {
    background: #ff4c60;
  }

  /* Scroll item */
  .scroll-item {
    flex: none;
    scroll-snap-align: center;
    border-radius: 14px;
    margin-right: 30px;
    box-shadow: 0 10px 40px rgba(255, 76, 96, 0.3);
    transition: transform 0.35s;
    position: relative;
    width: 350px;
    height: 100%;
    background: #111;
    overflow: hidden;
  }
  .scroll-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s;
  }
  .scroll-item:hover img {
    transform: scale(1.1);
  }

  /* Responsive */
  @media (max-width: 600px) {
    .scroll-item {
      width: 90vw;
      margin-right: 20px;
    }
  }
</style>
</head>
<body>

<h1>HAI ERNESS</h1>

<div class="gallery" tabindex="0" aria-label="Photo gallery">
  <!-- Thumbnails inserted by JS -->
</div>

<!-- Modal -->
<div class="modal" role="dialog" aria-modal="true" aria-label="Photo viewer">
  <div class="modal-content">
    <button class="close-btn" aria-label="Close gallery">&times;</button>
    <!-- Scroll control buttons -->
    <button class="scroll-btn left" aria-label="Scroll photos left">&#10094;</button>
    <button class="scroll-btn right" aria-label="Scroll photos right">&#10095;</button>
    <div class="scroll-container" tabindex="0">
      <!-- Full size scrollable images injected here -->
    </div>
  </div>
</div>

<!-- Hidden audio element for background music -->
<audio id="background-music" loop preload="auto" src="blue_1748592266_musicaldown.com.mp3"></audio>

<script>
  (function(){
    // Array of photo objects: src and alt text
    const photos = [
      { src: 'WhatsApp Image 2025-05-30 at 14.51.48_6c6a3a78.jpg', alt: '' },
      { src: 'WhatsApp Image 2025-05-30 at 14.51.48_fcfc47a7.jpg', alt: '' },
      { src: 'WhatsApp Image 2025-05-30 at 14.51.49_849c7a7f.jpg', alt: '' },
      { src: 'WhatsApp Image 2025-05-30 at 14.51.49_af9a337f.jpg', alt: '' },
      { src: 'WhatsApp Image 2025-05-30 at 14.51.50_5677dbee.jpg', alt: '' },
      { src: 'WhatsApp Image 2025-05-30 at 15.29.28_a8ea1d14.jpg', alt: '' },
      { src: 'WhatsApp Image 2025-05-30 at 15.29.28_a96fbb9a.jpg', alt: '' },
      { src: 'WhatsApp Image 2025-05-30 at 15.29.29_7f9c7d65.jpg', alt: '' },
      { src: 'WhatsApp Image 2025-05-30 at 15.29.28_a3072757.jpg', alt: '' },  
      { src: 'WhatsApp Image 2025-05-30 at 15.29.29_7f9c7d65.jpg', alt: '' },  
      { src: 'WhatsApp Image 2025-05-30 at 15.29.29_e217df81.jpg', alt: '' },
      { src: 'WhatsApp Image 2025-05-30 at 15.29.30_9f94114d.jpg', alt: '' },
      { src: 'WhatsApp Image 2025-05-30 at 15.29.31_2c2c6dc8.jpg', alt: '' },
      { src: 'WhatsApp Image 2025-05-30 at 15.29.31_c17607eb.jpg', alt: '' },
      { src: 'WhatsApp Image 2025-05-30 at 15.29.33_70e19b5d.jpg', alt: '' },
      { src: 'WhatsApp Image 2025-05-30 at 15.29.34_62d4676e.jpg', alt: '' },
      { src: 'WhatsApp Image 2025-05-30 at 15.29.33_ded437c3.jpg', alt: '' }
      
    ];

    const galleryEl = document.querySelector('.gallery');
    const modal = document.querySelector('.modal');
    const modalContent = modal.querySelector('.modal-content');
    const scrollContainer = modal.querySelector('.scroll-container');
    const closeBtn = modal.querySelector('.close-btn');
    const music = document.getElementById('background-music');
    const scrollBtnLeft = modalContent.querySelector('.scroll-btn.left');
    const scrollBtnRight = modalContent.querySelector('.scroll-btn.right');

    // Populate gallery thumbnails
    photos.forEach((photo, index) => {
      const item = document.createElement('div');
      item.className = 'gallery-item';
      item.tabIndex = 0;
      item.setAttribute('role', 'button');
      item.setAttribute('aria-label', `Open photo gallery starting at image: ${photo.alt}`);
      const img = document.createElement('img');
      img.src = photo.src;
      img.alt = photo.alt;
      item.appendChild(img);
      // Clicking or pressing Enter/space opens modal at that image index
      item.addEventListener('click', () => openModal(index));
      item.addEventListener('keydown', e => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          openModal(index);
        }
      });
      galleryEl.appendChild(item);
    });

    // Populate modal scroll container with images
    function populateModalImages() {
      scrollContainer.innerHTML = '';
      photos.forEach(photo => {
        const scrollItem = document.createElement('div');
        scrollItem.className = 'scroll-item';
        const img = document.createElement('img');
        img.src = photo.src;
        img.alt = photo.alt;
        scrollItem.appendChild(img);
        scrollContainer.appendChild(scrollItem);
      });
    }
    populateModalImages();

    // Scroll smooth helper
    function scrollByAmount(amount) {
      scrollContainer.scrollBy({ left: amount, behavior: 'smooth' });
    }

    // Open modal and scroll to selected image
    function openModal(startIndex) {
      modal.classList.add('active');
      document.body.style.overflow = 'hidden'; // Disable background scroll
      // Play music (handle promise for autoplay restrictions)
      if (music) {
        music.currentTime = 0;
        music.play().catch(() => {
          // autoplay failed (browser restriction)
        });
      }
      // delay scrolling to ensure images rendered
      setTimeout(() => {
        const scrollItems = scrollContainer.querySelectorAll('.scroll-item');
        if (scrollItems[startIndex]) {
          scrollItems[startIndex].scrollIntoView({behavior: 'smooth', block: 'nearest', inline: 'center'});
        }
        scrollContainer.focus();
      }, 100);
    }

    // Close modal
    function closeModal() {
      modal.classList.remove('active');
      document.body.style.overflow = '';
      // Pause music
      if (music) {
        music.pause();
        music.currentTime = 0;
      }
    }

    // Scroll buttons handlers
    scrollBtnLeft.addEventListener('click', () => {
      scrollByAmount(-scrollContainer.clientWidth / 2);
    });
    scrollBtnRight.addEventListener('click', () => {
      scrollByAmount(scrollContainer.clientWidth / 2);
    });

    closeBtn.addEventListener('click', closeModal);

    // Close modal when clicking outside modal-content
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        closeModal();
      }
    });

    // Keyboard handling: ESC to close modal
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.classList.contains('active')) {
        closeModal();
      }
    });
  })();
</script>

</body>
</html>
